"use strict";exports.id=3203,exports.ids=[3203],exports.modules={3203:(e,s,r)=>{r.a(e,async(e,t)=>{try{r.r(s),r.d(s,{default:()=>__WEBPACK_DEFAULT_EXPORT__});var l=r(997),o=r(6689),a=r(1664),i=r.n(a),n=r(2091),c=r(9915),m=r(1163),d=r(6340),u=e([c]);c=(u.then?(await u)():u)[0];let __WEBPACK_DEFAULT_EXPORT__=()=>{let[e,s]=(0,o.useState)(null),[r,t]=(0,o.useState)(!1),[a,u]=(0,o.useState)(!1),[p,h]=(0,o.useState)(null),[f,x]=(0,o.useState)(!1),g=(0,m.useRouter)();return(0,o.useEffect)(()=>{let e=localStorage.getItem("accessToken");e?(0,d.bN)(e).then(e=>{s(e),t(!0),h(localStorage.getItem("userType"))}).catch(e=>{console.error("Error fetching profile data:",e),t(!1)}):t(!1)},[]),l.jsx(l.Fragment,{children:r?(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsxs)("button",{className:"flex items-center gap-2 pr-10",onClick:()=>{u(!a)},children:[l.jsx("img",{src:e?.profile_pic_url||"/assets/imgs/default-profile-pic.png",alt:"Profile",width:45,className:"rounded-full"}),(0,l.jsxs)("span",{children:[l.jsx("span",{children:"Hi, "}),e?.first_name||"User"]})]}),a&&(0,l.jsxs)("div",{className:"absolute right-0 mt-4 w-48 bg-white rounded-md shadow-lg z-10",children:[l.jsx(i(),{href:"1"===p?"/candidate-profile":"2"===p?"/organization-profile":"/recruiter-profile",children:(0,l.jsxs)("div",{className:"dropdown-item flex items-center p-2 cursor-pointer",children:[l.jsx(n.m3W,{className:"mr-2",style:{fontSize:"1.2rem"}}),"View Profile"]})}),(0,l.jsxs)("div",{className:"dropdown-item flex items-center p-2 cursor-pointer",onClick:()=>{x(!f)},children:[l.jsx(n.p4t,{className:"mr-2",style:{fontSize:"1.2rem"}}),"My Account"]}),(0,l.jsxs)("div",{className:"dropdown-item flex items-center p-2 cursor-pointer",onClick:()=>{localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),localStorage.removeItem("userType"),c.default.remove("token"),t(!1),s(null),h(null),g.push("/login")},children:[l.jsx(n.fHX,{className:"mr-2",style:{fontSize:"1.2rem"}}),"Logout"]})]})]}):(0,l.jsxs)("div",{className:"flex items-center pr-10",children:[l.jsx(i(),{href:"/choose-role",className:"text-link-bd-btom hover-up",children:"Register"}),l.jsx(i(),{href:"/login",className:"btn btn-default btn-shadow ml-40 hover-up",children:"Sign in"})]})})};t()}catch(e){t(e)}})}};