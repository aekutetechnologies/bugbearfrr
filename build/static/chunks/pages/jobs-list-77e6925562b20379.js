(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[688],{3338:function(e,a,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/jobs-list",function(){return s(8778)}])},8778:function(e,a,s){"use strict";s.r(a),s.d(a,{default:function(){return JobList}});var l=s(5893),c=s(7294),n=s(1664),i=s.n(n),t=s(8504);s(9649);var r=s(1163),d=s(4744),o=s(9471);function JobList(){let[e,a]=(0,c.useState)([]),[s,n]=(0,c.useState)(!1),[m,h]=(0,c.useState)(""),[x,j]=(0,c.useState)(1),[u]=(0,c.useState)(10),[b,p]=(0,c.useState)({category:[],salaryRange:[],experienceLevel:[],jobType:[]}),[N,g]=(0,c.useState)(0),[v,f]=(0,c.useState)(null),[y,k]=(0,c.useState)([0,2e5]),w=(0,r.useRouter)(),{keyword:_}=w.query;(0,c.useEffect)(()=>{_&&h(_)},[_]),(0,c.useEffect)(()=>{let e=localStorage.getItem("accessToken");f(e)},[]);let fetchJobs=async()=>{if(!v){console.error("Token is not available");return}n(!0);try{let e=await fetch("".concat(o.Z,"jobs/search/"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(v)},body:JSON.stringify({title:m||"",page:x,page_size:u,category:b.category.length?b.category:[],salaryRange:b.salaryRange,experienceLevel:b.experienceLevel,jobType:b.jobType})}),s=await e.json();s&&s.results?(a(s.results),g(s.count),console.log(s.results)):a([])}catch(e){console.error("Failed to fetch jobs:",e),a([])}n(!1)};(0,c.useEffect)(()=>{v&&fetchJobs()},[b,x,v]);let handleFilterChange=e=>{let{name:a,value:s,checked:l}=e.target;p(e=>{let c={...e};return l?c[a]=[...e[a],s]:c[a]=e[a].filter(e=>e!==s),c})},handleApplyNowClick=e=>{w.push("/job-details/".concat(e))},getRelativeTime=e=>{let a=new Date(e);return(0,d.Z)(a,{addSuffix:!0})};function formatSalary(e){return e>=1e3&&e<1e5?(e/1e3).toFixed(0)+"k":e>=1e5?(e/1e5).toFixed(0)+"L":e}return(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(t.Z,{children:(0,l.jsxs)("div",{children:[(0,l.jsx)("section",{className:"section-box-2",children:(0,l.jsx)("div",{className:"container",children:(0,l.jsx)("div",{className:"banner-hero banner-single banner-single-bg",children:(0,l.jsxs)("div",{className:"block-banner text-center",children:[(0,l.jsxs)("h3",{className:"wow animate__animated animate__fadeInUp",children:[(0,l.jsxs)("span",{className:"color-brand-2",children:[N||0," Jobs"]})," Available Now"]}),(0,l.jsx)("div",{className:"font-sm color-text-paragraph-2 mt-10 wow animate__animated animate__fadeInUp","data-wow-delay":".1s",children:"Find jobs tailored to your experience and preferences."}),(0,l.jsx)("div",{className:"form-find text-start mt-40 wow animate__animated animate__fadeInUp","data-wow-delay":".2s",children:(0,l.jsxs)("form",{onSubmit:e=>{e.preventDefault(),fetchJobs()},children:[(0,l.jsx)("input",{className:"form-input input-keysearch mr-10",type:"text",placeholder:"Your keyword...",value:m,onChange:e=>h(e.target.value)}),(0,l.jsx)("button",{className:"btn btn-default btn-find font-sm",type:"submit",children:"Search"})]})})]})})})}),(0,l.jsx)("section",{className:"section-box mt-30",children:(0,l.jsx)("div",{className:"container",children:(0,l.jsxs)("div",{className:"row flex-row-reverse",children:[(0,l.jsx)("div",{className:"col-lg-9 col-md-12 col-sm-12 col-12 float-right",children:(0,l.jsx)("div",{className:"content-page",children:s?(0,l.jsx)("p",{children:"Loading jobs..."}):0===e.length?(0,l.jsx)("p",{children:"No jobs found."}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"row display-list",children:null==e?void 0:e.map(e=>(0,l.jsx)("div",{className:"col-xl-12 col-12",children:(0,l.jsxs)("div",{className:"card-grid-2 hover-up",children:[(0,l.jsx)("span",{className:"flash"}),(0,l.jsxs)("div",{className:"row",children:[(0,l.jsx)("div",{className:"col-lg-6 col-md-6 col-sm-12",children:(0,l.jsxs)("div",{className:"card-grid-2-image-left",children:[(0,l.jsx)("div",{className:"image-box",children:(0,l.jsx)("img",{src:"assets/imgs/brands/brand-1.png",alt:"bugbear"})}),(0,l.jsxs)("div",{className:"right-info",children:[(0,l.jsx)(i(),{href:"/job-details/".concat(e.id),className:"name-job",children:e.company_name}),(0,l.jsx)("span",{className:"location-small",children:e.location})]})]})}),(0,l.jsx)("div",{className:"col-lg-6 text-start text-md-end pr-60 col-md-6 col-sm-12",children:(0,l.jsx)("div",{className:"pl-15 mb-15 mt-30",children:(0,l.jsx)(i(),{href:"#",className:"btn btn-grey-small mr-5",children:e.category})})})]}),(0,l.jsxs)("div",{className:"card-block-info",children:[(0,l.jsx)("h4",{children:(0,l.jsx)(i(),{href:"/job-details/".concat(e.id),children:e.title})}),(0,l.jsxs)("div",{className:"mt-5",children:[(0,l.jsx)("span",{className:"card-briefcase",children:e.job_type}),(0,l.jsx)("span",{className:"card-time",children:(0,l.jsx)("span",{children:getRelativeTime(e.job_created)})})]}),(0,l.jsx)("div",{className:"card-2-bottom mt-20",children:(0,l.jsxs)("div",{className:"row",children:[(0,l.jsxs)("div",{className:"col-lg-7 col-7",children:[(0,l.jsxs)("span",{className:"card-text-price",children:["₹",formatSalary(e.salary_min)]}),(0,l.jsx)("span",{className:"text-muted",children:"-"}),(0,l.jsxs)("span",{className:"card-text-price",children:["₹",formatSalary(e.salary_max)]})]}),(0,l.jsx)("div",{className:"col-lg-5 col-5 text-end",children:(0,l.jsx)("button",{className:"btn btn-apply-now",onClick:()=>handleApplyNowClick(e.id),children:"View Job"})})]})})]})]})},e.id))}),e.length>0&&(0,l.jsx)("div",{className:"paginations",children:(0,l.jsxs)("ul",{className:"pager",children:[(0,l.jsx)("li",{children:(0,l.jsx)("a",{className:"pager-prev",href:"#",onClick:()=>j(x-1)})}),(0,l.jsx)("li",{children:(0,l.jsx)(i(),{href:"#",children:(0,l.jsx)("span",{className:"pager-number",children:x})})}),(0,l.jsx)("li",{children:(0,l.jsx)("a",{className:"pager-next",href:"#",onClick:()=>j(x+1)})})]})})]})})}),(0,l.jsx)("div",{className:"col-lg-3 col-md-12 col-sm-12 col-12",children:(0,l.jsx)("div",{className:"sidebar-shadow none-shadow mb-30",children:(0,l.jsxs)("div",{className:"sidebar-filters",children:[(0,l.jsx)("div",{className:"d-flex justify-content-between mb-20",children:(0,l.jsx)("button",{className:"btn btn-secondary",onClick:()=>{p({category:[],salaryRange:[],experienceLevel:[],jobType:[]})},children:"Reset Filters"})}),(0,l.jsxs)("div",{className:"filter-block mb-30",children:[(0,l.jsx)("h5",{className:"medium-heading mb-15",children:"Category"}),(0,l.jsx)("ul",{className:"list-checkbox",children:["DevSecOps","Cloud Security","Security Auditing","Web Application Security","Vulnerability Management","VPAT","Network Security","Physical Red Teaming","Physical Security","WebProxy","EDR/XDR","SOCaaS","AD Security/AD Pentesting"].map(e=>(0,l.jsx)("li",{children:(0,l.jsxs)("label",{className:"cb-container",children:[(0,l.jsx)("input",{type:"checkbox",name:"category",value:e,checked:b.category.includes(e),onChange:handleFilterChange}),(0,l.jsx)("span",{className:"text-small",children:e}),(0,l.jsx)("span",{className:"checkmark"})]})},e))})]}),(0,l.jsxs)("div",{className:"filter-block mb-30",children:[(0,l.jsx)("h5",{className:"medium-heading mb-15",children:"Salary Range"}),(0,l.jsx)("ul",{className:"list-checkbox",children:[{label:"0k - 20k",value:"0-20000"},{label:"20k - 40k",value:"20000-40000"},{label:"40k - 60k",value:"40000-60000"},{label:"60k - 80k",value:"60000-80000"},{label:"80k - 100k",value:"80000-100000"},{label:"100k - 200k",value:"100000-200000"}].map(e=>(0,l.jsx)("li",{children:(0,l.jsxs)("label",{className:"cb-container",children:[(0,l.jsx)("input",{type:"checkbox",name:"salaryRange",value:e.value,checked:b.salaryRange.includes(e.value),onChange:handleFilterChange}),(0,l.jsx)("span",{className:"text-small",children:e.label}),(0,l.jsx)("span",{className:"checkmark"})]})},e.value))})]}),(0,l.jsxs)("div",{className:"filter-block mb-30",children:[(0,l.jsx)("h5",{className:"medium-heading mb-15",children:"Experience Level"}),(0,l.jsx)("ul",{className:"list-checkbox",children:["Internship","Entry Level","Associate","Mid Level","Director","Executive"].map(e=>(0,l.jsx)("li",{children:(0,l.jsxs)("label",{className:"cb-container",children:[(0,l.jsx)("input",{type:"checkbox",name:"experienceLevel",value:e,checked:b.experienceLevel.includes(e),onChange:handleFilterChange}),(0,l.jsx)("span",{className:"text-small",children:e}),(0,l.jsx)("span",{className:"checkmark"})]})},e))})]}),(0,l.jsxs)("div",{className:"filter-block mb-30",children:[(0,l.jsx)("h5",{className:"medium-heading mb-15",children:"Job Type"}),(0,l.jsx)("ul",{className:"list-checkbox",children:["Full Time","Part Time","Remote Jobs","Freelancer"].map(e=>(0,l.jsx)("li",{children:(0,l.jsxs)("label",{className:"cb-container",children:[(0,l.jsx)("input",{type:"checkbox",name:"jobType",value:e,checked:b.jobType.includes(e),onChange:handleFilterChange}),(0,l.jsx)("span",{className:"text-small",children:e}),(0,l.jsx)("span",{className:"checkmark"})]})},e))})]})]})})})]})})})]})})})}},9471:function(e,a){"use strict";a.Z="http://35.154.204.105/api/"}},function(e){e.O(0,[1653,9865,719,1998,4744,8504,9649,9774,2888,179],function(){return e(e.s=3338)}),_N_E=e.O()}]);