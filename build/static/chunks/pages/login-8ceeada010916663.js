(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3459],{6429:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return s(7644)}])},7644:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return Signin}});var n=s(5893),r=s(7294),a=s(1163),i=s(8504),o=s(1664),c=s.n(o),l=s(4173);s(7967);var d=s(1955),u=s(9471);function Signin(){let e=(0,a.useRouter)(),[t,s]=(0,r.useState)({email:"",password:""}),[o,m]=(0,r.useState)(null),handleChange=e=>{let{name:n,value:r}=e.target;s({...t,[n]:r})},handleSubmit=async s=>{s.preventDefault();try{let s=await fetch("".concat(u.Z,"user/login/"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(s.ok){let t=await s.json();localStorage.setItem("accessToken",t.token.access),localStorage.setItem("refreshToken",t.token.refresh),localStorage.setItem("userType",t.user_type),d.Z.set("accessToken",t.token.access,{expires:1}),3===t.user_type?e.push("/dashboard"):e.push("/jobs-list"),l.Am.success(t.msg||"Login successful!")}else{let e=await s.json();l.Am.error(e.detail||"Login failed"),m(e.detail||"Login failed")}}catch(e){l.Am.error("Something went wrong. Please try again later."),m("Something went wrong. Please try again later.")}};return(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)(i.Z,{children:[(0,n.jsx)("section",{className:"pt-100 login-register",children:(0,n.jsx)("div",{className:"container",children:(0,n.jsxs)("div",{className:"row login-register-cover",children:[(0,n.jsxs)("div",{className:"col-lg-4 col-md-6 col-sm-12 mx-auto",children:[(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)("p",{className:"font-sm text-brand-2",children:"Welcome back! "}),(0,n.jsx)("h2",{className:"mt-10 mb-5 text-brand-1",children:"Member Login"}),(0,n.jsx)("p",{className:"font-sm text-muted mb-30",children:"Access to all features. No credit card required."})]}),(0,n.jsxs)("form",{className:"login-register text-start mt-20",onSubmit:handleSubmit,children:[(0,n.jsxs)("div",{className:"form-group",children:[(0,n.jsx)("label",{className:"form-label",htmlFor:"input-1",children:"Email address *"}),(0,n.jsx)("input",{className:"form-control",id:"input-1",type:"email",name:"email",placeholder:"example@example.com",value:t.email,onChange:handleChange,required:!0})]}),(0,n.jsxs)("div",{className:"form-group",children:[(0,n.jsx)("label",{className:"form-label",htmlFor:"input-4",children:"Password *"}),(0,n.jsx)("input",{className:"form-control",id:"input-4",type:"password",name:"password",placeholder:"************",value:t.password,onChange:handleChange,required:!0})]}),(0,n.jsxs)("div",{className:"login_footer form-group d-flex justify-content-between",children:[(0,n.jsxs)("label",{className:"cb-container",children:[(0,n.jsx)("input",{type:"checkbox"}),(0,n.jsx)("span",{className:"text-small",children:"Remember me"}),(0,n.jsx)("span",{className:"checkmark"})]}),(0,n.jsx)(c(),{legacyBehavior:!0,href:"/page-contact",children:(0,n.jsx)("a",{className:"text-muted",children:"Forgot Password"})})]}),(0,n.jsx)("div",{className:"form-group",children:(0,n.jsx)("button",{className:"btn btn-brand-1 hover-up w-100",type:"submit",children:"Login"})}),(0,n.jsxs)("div",{className:"text-muted text-center",children:["Don't have an Account?",(0,n.jsx)(c(),{legacyBehavior:!0,href:"/choose-role",children:(0,n.jsx)("a",{children:"Sign up"})})]})]})]}),(0,n.jsx)("div",{className:"img-1 d-none d-lg-block",children:(0,n.jsx)("img",{className:"shape-1",src:"assets/imgs/page/login-register/img-4.svg",alt:"bugbear"})}),(0,n.jsx)("div",{className:"img-2",children:(0,n.jsx)("img",{src:"assets/imgs/page/login-register/img-3.svg",alt:"bugbear"})})]})})}),(0,n.jsx)(l.Ix,{position:"top-right",autoClose:3e3,hideProgressBar:!1})]})})}},9471:function(e,t){"use strict";t.Z="http://35.154.204.105/api/"},7967:function(){},1955:function(e,t,s){"use strict";/*! js-cookie v3.0.5 | MIT */function assign(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)e[n]=s[n]}return e}s.d(t,{Z:function(){return n}});var n=function init(e,t){function set(s,n,r){if("undefined"!=typeof document){"number"==typeof(r=assign({},t,r)).expires&&(r.expires=new Date(Date.now()+864e5*r.expires)),r.expires&&(r.expires=r.expires.toUTCString()),s=encodeURIComponent(s).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var a="";for(var i in r)r[i]&&(a+="; "+i,!0!==r[i]&&(a+="="+r[i].split(";")[0]));return document.cookie=s+"="+e.write(n,s)+a}}return Object.create({set,get:function(t){if("undefined"!=typeof document&&(!arguments.length||t)){for(var s=document.cookie?document.cookie.split("; "):[],n={},r=0;r<s.length;r++){var a=s[r].split("="),i=a.slice(1).join("=");try{var o=decodeURIComponent(a[0]);if(n[o]=e.read(i,o),t===o)break}catch(e){}}return t?n[t]:n}},remove:function(e,t){set(e,"",assign({},t,{expires:-1}))},withAttributes:function(e){return init(this.converter,assign({},this.attributes,e))},withConverter:function(e){return init(assign({},this.converter,e),this.attributes)}},{attributes:{value:Object.freeze(t)},converter:{value:Object.freeze(e)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"})}},function(e){e.O(0,[1653,9865,8504,9774,2888,179],function(){return e(e.s=6429)}),_N_E=e.O()}]);