(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7033],{2035:function(e,a,l){(window.__NEXT_P=window.__NEXT_P||[]).push(["/recruiter-profile",function(){return l(6901)}])},6901:function(e,a,l){"use strict";l.r(a),l.d(a,{default:function(){return OrganizationProfile}});var o=l(5893),s=l(1664),n=l.n(s),t=l(7294),r=l(4173);l(7967);var c=l(8504),i=l(9471);function OrganizationProfile(){let[e,a]=(0,t.useState)({first_name:"",last_name:"",current_location:"",current_company_name:"",current_designation:"",address:"",about_company:"",city:"",state:"",country:"",zip_code:"",profile_pic_url:"",company_logo_url:"",email:""}),[l,s]=(0,t.useState)([]),[m,d]=(0,t.useState)(null),[p,u]=(0,t.useState)(null),[h,f]=(0,t.useState)(!1);(0,t.useEffect)(()=>{let fetchProfileData=async()=>{try{let l=localStorage.getItem("accessToken"),o=await fetch("".concat(i.Z,"user/recruiter-profile/"),{method:"GET",headers:{Authorization:"Bearer ".concat(l)}});if(o.ok){let l=await o.json();a({first_name:l.first_name,last_name:l.last_name,current_location:l.current_location,current_company_name:l.current_company_name,current_designation:l.current_designation,address:l.address,about_company:l.about_company,city:l.city,state:l.state,country:l.country,zip_code:l.zip_code,profile_pic_url:l.profile_pic_url,company_logo_url:l.company_logo_url,email:l.email}),console.log(e),s(l.skills.map(e=>({label:e,value:e})))}}catch(e){console.error("Error fetching profile data:",e)}};fetchProfileData()},[]);let handleInputChange=e=>{let{name:l,value:o}=e.target;a(e=>({...e,[l]:o}))},handleProfileUpdate=async o=>{o.preventDefault(),f(!0);try{let o=localStorage.getItem("accessToken"),s=await fetch("".concat(i.Z,"user/recruiter-profile/"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(o)},body:JSON.stringify({...e,skills:l.map(e=>e.value)})});if(s.ok){let e=await s.json();a(a=>({...a,...e})),r.Am.success("Profile updated successfully!")}else r.Am.error("Failed to update profile")}catch(e){console.error("Error updating profile:",e),r.Am.error("An error occurred while updating the profile")}finally{f(!1)}},handleProfilePicUpload=async()=>{let e=new FormData;e.append("profile_pic",m);try{let l=localStorage.getItem("accessToken"),o=await fetch("".concat(i.Z,"user/upload-recruiter-profile-pic/"),{method:"POST",headers:{Authorization:"Bearer ".concat(l)},body:e});if(o.ok){let e=await o.json();a(a=>({...a,profile_pic_url:e.profile_pic_url})),r.Am.success("Profile picture uploaded successfully!")}else r.Am.error("Failed to upload profile picture")}catch(e){console.error("Error uploading profile picture:",e),r.Am.error("An error occurred while uploading the profile picture")}},handleCompanyLogoUpload=async()=>{let e=new FormData;e.append("company_logo",p);try{let l=localStorage.getItem("accessToken"),o=await fetch("".concat(i.Z,"user/upload-company-logo/"),{method:"POST",headers:{Authorization:"Bearer ".concat(l)},body:e});if(o.ok){let e=await o.json();a(a=>({...a,company_logo_url:e.company_logo_url})),r.Am.success("Company logo uploaded successfully!")}else r.Am.error("Failed to upload company logo")}catch(e){console.error("Error uploading company logo:",e),r.Am.error("An error occurred while uploading the company logo")}};return(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(c.Z,{children:(0,o.jsxs)("div",{children:[(0,o.jsx)(r.Ix,{}),(0,o.jsx)("section",{className:"section-box-2",children:(0,o.jsxs)("div",{className:"container",children:[(0,o.jsx)("div",{className:"banner-hero banner-image-single",children:(0,o.jsx)("img",{src:"assets/imgs/page/candidates/img.png",alt:"Organization profile"})}),(0,o.jsxs)("div",{className:"box-company-profile",children:[(0,o.jsx)("div",{className:"image-compay",children:(0,o.jsx)("img",{src:e.profile_pic_url,alt:"Profile"})}),(0,o.jsx)("div",{className:"row mt-10",children:(0,o.jsxs)("div",{className:"col-lg-8 col-md-12",children:[(0,o.jsxs)("h5",{className:"f-18",children:[e.first_name," ",e.last_name," ",(0,o.jsxs)("span",{className:"card-location font-regular ml-20",children:[e.city,", ",e.country]})]}),(0,o.jsx)("p",{className:"mt-0 font-md color-text-paragraph-2 mb-15",children:e.position})]})})]}),(0,o.jsx)("div",{className:"border-bottom pt-10 pb-10"})]})}),(0,o.jsx)("section",{className:"section-box mt-50",children:(0,o.jsx)("div",{className:"container",children:(0,o.jsxs)("div",{className:"row",children:[(0,o.jsx)("div",{className:"col-lg-3 col-md-4 col-sm-12",children:(0,o.jsxs)("div",{className:"box-nav-tabs nav-tavs-profile mb-5",children:[(0,o.jsx)("ul",{className:"nav",role:"tablist",children:(0,o.jsx)("li",{children:(0,o.jsx)("a",{className:"btn btn-border aboutus-icon mb-20 active",children:"My Profile"})})}),(0,o.jsx)("div",{className:"border-bottom pt-10 pb-10"}),(0,o.jsx)("div",{className:"mt-20 mb-20",children:(0,o.jsx)(n(),{href:"#",children:(0,o.jsx)("button",{className:"link-red",children:"Delete Account"})})})]})}),(0,o.jsx)("div",{className:"col-lg-9 col-md-8 col-sm-12 col-12 mb-50",children:(0,o.jsx)("div",{className:"content-single",children:(0,o.jsxs)("form",{onSubmit:handleProfileUpdate,children:[(0,o.jsxs)("div",{className:"box-info-profie mb-40",children:[(0,o.jsx)("div",{className:"image-profile",children:(0,o.jsx)("img",{src:e.profile_pic_url||"assets/imgs/page/organization/organization-profile.png",alt:"Profile Pic"})}),(0,o.jsx)("input",{type:"file",onChange:e=>d(e.target.files[0])}),(0,o.jsx)("button",{type:"button",className:"btn btn-apply",onClick:handleProfilePicUpload,disabled:!m,children:"Upload Avatar"})]}),(0,o.jsx)("h4",{className:"small-header",children:"Personal Details"}),(0,o.jsxs)("div",{className:"row form-contact",children:[(0,o.jsx)("div",{className:"col-lg-6 col-md-12",children:(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsx)("label",{className:"font-sm color-text-mutted mb-10",children:"First Name"}),(0,o.jsx)("input",{className:"form-control",type:"text",name:"first_name",value:e.first_name,onChange:handleInputChange})]})}),(0,o.jsx)("div",{className:"col-lg-6 col-md-12",children:(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsx)("label",{className:"font-sm color-text-mutted mb-10",children:"Last Name"}),(0,o.jsx)("input",{className:"form-control",type:"text",name:"last_name",value:e.last_name,onChange:handleInputChange})]})}),(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsx)("label",{className:"font-sm color-text-mutted mb-10",children:"Email *"}),(0,o.jsx)("input",{className:"form-control",type:"text",name:"email",value:e.email,disabled:!0})]}),(0,o.jsx)("div",{className:"col-lg-6 col-md-12",children:(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsx)("label",{className:"font-sm color-text-mutted mb-10",children:"Current Location"}),(0,o.jsx)("input",{className:"form-control",type:"text",name:"current_location",value:e.current_location,onChange:handleInputChange})]})})]}),(0,o.jsx)("h4",{className:"small-header",children:"Professional Details"}),(0,o.jsxs)("div",{className:"row form-contact",children:[(0,o.jsx)("div",{className:"col-lg-6 col-md-12",children:(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsx)("label",{className:"font-sm color-text-mutted mb-10",children:"Current Company Name"}),(0,o.jsx)("input",{className:"form-control",type:"text",name:"current_company_name",value:e.current_company_name,onChange:handleInputChange})]})}),(0,o.jsx)("div",{className:"col-lg-6 col-md-12",children:(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsx)("label",{className:"font-sm color-text-mutted mb-10",children:"Current Designation"}),(0,o.jsx)("input",{className:"form-control",type:"text",name:"current_designation",value:e.current_designation,onChange:handleInputChange})]})})]}),(0,o.jsx)("h4",{className:"small-header",children:"Upload Company Logo"}),(0,o.jsxs)("div",{className:"box-info-profie mb-40",children:[(0,o.jsx)("div",{className:"image-profile",children:(0,o.jsx)("img",{src:e.company_logo_url||"assets/imgs/page/organization/company-logo.png",alt:"Company Logo"})}),(0,o.jsx)("input",{type:"file",onChange:e=>u(e.target.files[0])}),(0,o.jsx)("button",{type:"button",className:"btn btn-apply",onClick:handleCompanyLogoUpload,disabled:!p,children:"Upload Company Logo"})]}),(0,o.jsx)("h4",{className:"small-header",children:"Company Information"}),(0,o.jsxs)("div",{className:"row form-contact",children:[(0,o.jsx)("div",{className:"col-lg-6 col-md-12",children:(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsx)("label",{className:"font-sm color-text-mutted mb-10",children:"Address"}),(0,o.jsx)("input",{className:"form-control",type:"text",name:"address",value:e.address,onChange:handleInputChange})]})}),(0,o.jsx)("div",{className:"col-lg-12 col-md-12",children:(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsx)("label",{className:"font-sm color-text-mutted mb-10",children:"About Company"}),(0,o.jsx)("textarea",{className:"form-control",rows:4,name:"about_company",value:e.about_company,onChange:handleInputChange})]})}),(0,o.jsx)("div",{className:"col-lg-6 col-md-12",children:(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsx)("label",{className:"font-sm color-text-mutted mb-10",children:"City"}),(0,o.jsx)("input",{className:"form-control",type:"text",name:"city",value:e.city,onChange:handleInputChange})]})}),(0,o.jsx)("div",{className:"col-lg-6 col-md-12",children:(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsx)("label",{className:"font-sm color-text-mutted mb-10",children:"State"}),(0,o.jsx)("input",{className:"form-control",type:"text",name:"state",value:e.state,onChange:handleInputChange})]})}),(0,o.jsx)("div",{className:"col-lg-6 col-md-12",children:(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsx)("label",{className:"font-sm color-text-mutted mb-10",children:"Country"}),(0,o.jsx)("input",{className:"form-control",type:"text",name:"country",value:e.country,onChange:handleInputChange})]})}),(0,o.jsx)("div",{className:"col-lg-6 col-md-12",children:(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsx)("label",{className:"font-sm color-text-mutted mb-10",children:"Zip Code"}),(0,o.jsx)("input",{className:"form-control",type:"text",name:"zip_code",value:e.zip_code,onChange:handleInputChange})]})})]}),(0,o.jsx)("div",{className:"box-button mt-15",children:(0,o.jsx)("button",{className:"btn btn-apply-big font-md font-bold",type:"submit",disabled:h,children:h?"Saving...":"Save All Changes"})})]})})})]})})})]})})})}},9471:function(e,a){"use strict";a.Z="http://35.154.204.105/api/"},7967:function(){}},function(e){e.O(0,[1653,9865,8504,9774,2888,179],function(){return e(e.s=2035)}),_N_E=e.O()}]);