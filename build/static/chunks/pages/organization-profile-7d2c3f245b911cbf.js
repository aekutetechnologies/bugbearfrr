(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6382],{6554:function(e,a,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/organization-profile",function(){return s(1945)}])},1945:function(e,a,s){"use strict";s.r(a),s.d(a,{default:function(){return CandidateProfile}});var d=s(5893),l=s(5379),o=s.n(l),t=s(1664),n=s.n(t),c=s(7294),r=s(4173);s(7967);var i=s(8504),m=s(1163),b=s(9471);function CandidateProfile(){let[e,a]=(0,c.useState)(1),[s,l]=(0,c.useState)({first_name:"",last_name:"",email:"",phone:"",bio:"",website:"",position:"",country:"",state:"",city:"",zip_code:"",profile_pic_url:"",skills:[]}),[t,f]=(0,c.useState)([]),[x,j]=(0,c.useState)(null),[p,h]=(0,c.useState)(!1),[u,g]=(0,c.useState)([]),[N,y]=(0,c.useState)([]);(0,m.useRouter)(),(0,c.useEffect)(()=>{let fetchProfileData=async()=>{try{let e=localStorage.getItem("accessToken"),a=await fetch("".concat(b.Z,"user/user-details"),{method:"GET",headers:{Authorization:"Bearer ".concat(e)}});if(a.ok){let e=await a.json();l({first_name:e.first_name,last_name:e.last_name,email:e.email,phone:e.phone,bio:e.about_me,position:e.position,country:e.country,city:e.city,zip_code:e.address,profile_pic_url:e.profile_pic_url,skills:e.skills||[]}),console.log(s)}}catch(e){console.error("Error fetching profile data:",e)}};fetchProfileData()},[]),(0,c.useEffect)(()=>{let fetchAppliedJobs=async()=>{try{let e=localStorage.getItem("accessToken"),a=await fetch("".concat(b.Z,"jobs/applied"),{method:"GET",headers:{Authorization:"Bearer ".concat(e)}});if(a.ok){let e=await a.json();g(e)}}catch(e){console.error("Error fetching applied jobs:",e)}};fetchAppliedJobs()},[]),(0,c.useEffect)(()=>{let fetchSavedJobs=async()=>{try{let e=localStorage.getItem("accessToken"),a=await fetch("".concat(b.Z,"jobs/saved"),{method:"GET",headers:{Authorization:"Bearer ".concat(e)}});if(a.ok){let e=await a.json();y(e)}}catch(e){console.error("Error fetching saved jobs:",e)}};fetchSavedJobs()},[]);let handleInputChange=e=>{let{name:a,value:s}=e.target;l(e=>({...e,[a]:s}))},handleProfileUpdate=async e=>{e.preventDefault(),h(!0);try{let e=localStorage.getItem("accessToken"),a=await fetch("".concat(b.Z,"user/user-details/"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)},body:JSON.stringify({...s,skills:t.map(e=>e.value)})});if(a.ok){let e=await a.json();l(a=>({...a,...e})),r.Am.success("Profile updated successfully!")}else r.Am.error("Failed to update profile")}catch(e){console.error("Error updating profile:",e),r.Am.error("An error occurred while updating the profile")}finally{h(!1)}},handleProfilePicUpload=async()=>{let e=new FormData;e.append("profile_pic",x);try{let a=localStorage.getItem("accessToken"),s=await fetch("".concat(b.Z,"user/upload-profile-pic/"),{method:"POST",headers:{Authorization:"Bearer ".concat(a)},body:e});if(s.ok){let e=await s.json();l(a=>({...a,profile_pic_url:e.profile_pic_url})),r.Am.success("Profile picture uploaded successfully!")}else r.Am.error("Failed to upload profile picture")}catch(e){console.error("Error uploading profile picture:",e),r.Am.error("An error occurred while uploading the profile picture")}},handleCompanyLogoUpload=async()=>{let e=new FormData;e.append("company_logo",companyLogo);try{let a=localStorage.getItem("accessToken"),s=await fetch("".concat(b.Z,"user/upload-company-logo/"),{method:"POST",headers:{Authorization:"Bearer ".concat(a)},body:e});if(s.ok){let e=await s.json();l(a=>({...a,company_logo_url:e.company_logo_url})),r.Am.success("Company logo uploaded successfully!")}else r.Am.error("Failed to upload company logo")}catch(e){console.error("Error uploading company logo:",e),r.Am.error("An error occurred while uploading the company logo")}};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(o(),{id:"2db2f02de4b4d1a9",children:".logo-box.jsx-2db2f02de4b4d1a9{width:80px;height:80px;overflow:hidden;background-color:#f0f0f0;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-border-radius:8px;-moz-border-radius:8px;border-radius:8px}.company-logo.jsx-2db2f02de4b4d1a9{max-width:100%;max-height:100%;-o-object-fit:cover;object-fit:cover;mix-blend-mode:multiply}"}),(0,d.jsx)(i.Z,{children:(0,d.jsxs)("div",{className:"jsx-2db2f02de4b4d1a9",children:[(0,d.jsx)(r.Ix,{}),(0,d.jsx)("section",{className:"jsx-2db2f02de4b4d1a9 section-box-2",children:(0,d.jsxs)("div",{className:"jsx-2db2f02de4b4d1a9 container",children:[(0,d.jsx)("div",{className:"jsx-2db2f02de4b4d1a9 banner-hero banner-image-single",children:(0,d.jsx)("img",{src:"assets/imgs/page/candidates/img.png",alt:"Organization profile",className:"jsx-2db2f02de4b4d1a9"})}),(0,d.jsxs)("div",{className:"jsx-2db2f02de4b4d1a9 box-company-profile",children:[(0,d.jsx)("div",{className:"jsx-2db2f02de4b4d1a9 w-[200px]  image-compay",children:(0,d.jsx)("img",{src:s.profile_pic_url,alt:"Profile",className:"jsx-2db2f02de4b4d1a9"})}),(0,d.jsx)("div",{className:"jsx-2db2f02de4b4d1a9 row mt-10",children:(0,d.jsxs)("div",{className:"jsx-2db2f02de4b4d1a9 col-lg-8 col-md-12",children:[(0,d.jsxs)("h5",{className:"jsx-2db2f02de4b4d1a9 f-18",children:[s.first_name," ",s.last_name," ",(0,d.jsx)("span",{className:"jsx-2db2f02de4b4d1a9 card-location font-regular ml-20",children:s.city&&s.country?(0,d.jsxs)(d.Fragment,{children:[s.city,", ",s.country]}):(0,d.jsx)("span",{className:"jsx-2db2f02de4b4d1a9 text-red-500",children:"* updated"})})]}),(0,d.jsx)("p",{className:"jsx-2db2f02de4b4d1a9 mt-0 font-md color-text-paragraph-2 mb-15",children:s.position})]})})]}),(0,d.jsx)("div",{className:"jsx-2db2f02de4b4d1a9 border-bottom pt-10 pb-10"})]})}),(0,d.jsx)("section",{className:"jsx-2db2f02de4b4d1a9 section-box mt-50",children:(0,d.jsx)("div",{className:"jsx-2db2f02de4b4d1a9 container",children:(0,d.jsxs)("div",{className:"jsx-2db2f02de4b4d1a9 row",children:[(0,d.jsx)("div",{className:"jsx-2db2f02de4b4d1a9 col-lg-3 col-md-4 col-sm-12",children:(0,d.jsxs)("div",{className:"jsx-2db2f02de4b4d1a9 box-nav-tabs nav-tavs-profile mb-5",children:[(0,d.jsx)("ul",{role:"tablist",className:"jsx-2db2f02de4b4d1a9 nav",children:(0,d.jsx)("li",{className:"jsx-2db2f02de4b4d1a9",children:(0,d.jsx)("a",{className:"jsx-2db2f02de4b4d1a9 btn btn-border aboutus-icon mb-20 active",children:"My Profile"})})}),(0,d.jsx)("div",{className:"jsx-2db2f02de4b4d1a9 border-bottom pt-10 pb-10"}),(0,d.jsx)("div",{className:"jsx-2db2f02de4b4d1a9 mt-20 mb-20",children:(0,d.jsx)(n(),{href:"#",children:(0,d.jsx)("button",{className:"jsx-2db2f02de4b4d1a9 link-red",children:"Delete Account"})})})]})}),(0,d.jsx)("div",{className:"jsx-2db2f02de4b4d1a9 col-lg-9 col-md-8 col-sm-12 col-12 mb-50",children:(0,d.jsx)("div",{className:"jsx-2db2f02de4b4d1a9 content-single",children:(0,d.jsxs)("form",{onSubmit:handleProfileUpdate,className:"jsx-2db2f02de4b4d1a9",children:[(0,d.jsxs)("div",{className:"jsx-2db2f02de4b4d1a9 box-info-profie mb-40",children:[(0,d.jsx)("div",{className:"jsx-2db2f02de4b4d1a9 image-profile",children:(0,d.jsx)("img",{src:s.profile_pic_url||"assets/imgs/page/organization/organization-profile.png",alt:"Profile Pic",className:"jsx-2db2f02de4b4d1a9"})}),(0,d.jsx)("input",{type:"file",onChange:e=>j(e.target.files[0]),className:"jsx-2db2f02de4b4d1a9"}),(0,d.jsx)("button",{type:"button",onClick:handleProfilePicUpload,disabled:!x,className:"jsx-2db2f02de4b4d1a9 btn btn-apply",children:"Upload Avatar"})]}),(0,d.jsx)("h4",{className:"jsx-2db2f02de4b4d1a9 small-header",children:"Personal Details"}),(0,d.jsxs)("div",{className:"jsx-2db2f02de4b4d1a9 row form-contact",children:[(0,d.jsx)("div",{className:"jsx-2db2f02de4b4d1a9 col-lg-6 col-md-12",children:(0,d.jsxs)("div",{className:"jsx-2db2f02de4b4d1a9 form-group",children:[(0,d.jsx)("label",{className:"jsx-2db2f02de4b4d1a9 font-sm color-text-mutted mb-10",children:"First Name"}),(0,d.jsx)("input",{type:"text",name:"first_name",value:s.first_name,onChange:handleInputChange,className:"jsx-2db2f02de4b4d1a9 form-control"})]})}),(0,d.jsx)("div",{className:"jsx-2db2f02de4b4d1a9 col-lg-6 col-md-12",children:(0,d.jsxs)("div",{className:"jsx-2db2f02de4b4d1a9 form-group",children:[(0,d.jsx)("label",{className:"jsx-2db2f02de4b4d1a9 font-sm color-text-mutted mb-10",children:"Last Name"}),(0,d.jsx)("input",{type:"text",name:"last_name",value:s.last_name,onChange:handleInputChange,className:"jsx-2db2f02de4b4d1a9 form-control"})]})}),(0,d.jsxs)("div",{className:"jsx-2db2f02de4b4d1a9 form-group",children:[(0,d.jsx)("label",{className:"jsx-2db2f02de4b4d1a9 font-sm color-text-mutted mb-10",children:"Email *"}),(0,d.jsx)("input",{type:"text",name:"email",value:s.email,disabled:!0,className:"jsx-2db2f02de4b4d1a9 form-control"})]}),(0,d.jsx)("div",{className:"jsx-2db2f02de4b4d1a9 col-lg-6 col-md-12",children:(0,d.jsxs)("div",{className:"jsx-2db2f02de4b4d1a9 form-group",children:[(0,d.jsx)("label",{className:"jsx-2db2f02de4b4d1a9 font-sm color-text-mutted mb-10",children:"Current Location"}),(0,d.jsx)("input",{type:"text",name:"current_location",value:s.current_location,onChange:handleInputChange,className:"jsx-2db2f02de4b4d1a9 form-control"})]})})]}),(0,d.jsx)("h4",{className:"jsx-2db2f02de4b4d1a9 small-header",children:"Professional Details"}),(0,d.jsxs)("div",{className:"jsx-2db2f02de4b4d1a9 row form-contact",children:[(0,d.jsx)("div",{className:"jsx-2db2f02de4b4d1a9 col-lg-6 col-md-12",children:(0,d.jsxs)("div",{className:"jsx-2db2f02de4b4d1a9 form-group",children:[(0,d.jsx)("label",{className:"jsx-2db2f02de4b4d1a9 font-sm color-text-mutted mb-10",children:"Current Company Name"}),(0,d.jsx)("input",{type:"text",name:"current_company_name",value:s.current_company_name,onChange:handleInputChange,className:"jsx-2db2f02de4b4d1a9 form-control"})]})}),(0,d.jsx)("div",{className:"jsx-2db2f02de4b4d1a9 col-lg-6 col-md-12",children:(0,d.jsxs)("div",{className:"jsx-2db2f02de4b4d1a9 form-group",children:[(0,d.jsx)("label",{className:"jsx-2db2f02de4b4d1a9 font-sm color-text-mutted mb-10",children:"Current Designation"}),(0,d.jsx)("input",{type:"text",name:"current_designation",value:s.current_designation,onChange:handleInputChange,className:"jsx-2db2f02de4b4d1a9 form-control"})]})})]}),(0,d.jsx)("h4",{className:"jsx-2db2f02de4b4d1a9 small-header",children:"Upload Company Logo"}),(0,d.jsxs)("div",{className:"jsx-2db2f02de4b4d1a9 box-info-profie mb-40",children:[(0,d.jsx)("div",{className:"jsx-2db2f02de4b4d1a9 image-profile",children:(0,d.jsx)("img",{src:s.company_logo_url,alt:"Company Logo",className:"jsx-2db2f02de4b4d1a9"})}),(0,d.jsx)("input",{type:"file",onChange:e=>setCompanyLogo(e.target.files[0]),className:"jsx-2db2f02de4b4d1a9"}),(0,d.jsx)("button",{type:"button",onClick:handleCompanyLogoUpload,className:"jsx-2db2f02de4b4d1a9 btn btn-apply",children:"Upload Company Logo"})]}),(0,d.jsx)("h4",{className:"jsx-2db2f02de4b4d1a9 small-header",children:"Company Information"}),(0,d.jsxs)("div",{className:"jsx-2db2f02de4b4d1a9 row form-contact",children:[(0,d.jsx)("div",{className:"jsx-2db2f02de4b4d1a9 col-lg-6 col-md-12",children:(0,d.jsxs)("div",{className:"jsx-2db2f02de4b4d1a9 form-group",children:[(0,d.jsx)("label",{className:"jsx-2db2f02de4b4d1a9 font-sm color-text-mutted mb-10",children:"Address"}),(0,d.jsx)("input",{type:"text",name:"address",value:s.address,onChange:handleInputChange,className:"jsx-2db2f02de4b4d1a9 form-control"})]})}),(0,d.jsx)("div",{className:"jsx-2db2f02de4b4d1a9 col-lg-12 col-md-12",children:(0,d.jsxs)("div",{className:"jsx-2db2f02de4b4d1a9 form-group",children:[(0,d.jsx)("label",{className:"jsx-2db2f02de4b4d1a9 font-sm color-text-mutted mb-10",children:"About Company"}),(0,d.jsx)("textarea",{rows:4,name:"about_company",value:s.about_company,onChange:handleInputChange,className:"jsx-2db2f02de4b4d1a9 form-control"})]})}),(0,d.jsx)("div",{className:"jsx-2db2f02de4b4d1a9 col-lg-6 col-md-12",children:(0,d.jsxs)("div",{className:"jsx-2db2f02de4b4d1a9 form-group",children:[(0,d.jsx)("label",{className:"jsx-2db2f02de4b4d1a9 font-sm color-text-mutted mb-10",children:"City"}),(0,d.jsx)("input",{type:"text",name:"city",value:s.city,onChange:handleInputChange,className:"jsx-2db2f02de4b4d1a9 form-control"})]})}),(0,d.jsx)("div",{className:"jsx-2db2f02de4b4d1a9 col-lg-6 col-md-12",children:(0,d.jsxs)("div",{className:"jsx-2db2f02de4b4d1a9 form-group",children:[(0,d.jsx)("label",{className:"jsx-2db2f02de4b4d1a9 font-sm color-text-mutted mb-10",children:"State"}),(0,d.jsx)("input",{type:"text",name:"state",value:s.state,onChange:handleInputChange,className:"jsx-2db2f02de4b4d1a9 form-control"})]})}),(0,d.jsx)("div",{className:"jsx-2db2f02de4b4d1a9 col-lg-6 col-md-12",children:(0,d.jsxs)("div",{className:"jsx-2db2f02de4b4d1a9 form-group",children:[(0,d.jsx)("label",{className:"jsx-2db2f02de4b4d1a9 font-sm color-text-mutted mb-10",children:"Country"}),(0,d.jsx)("input",{type:"text",name:"country",value:s.country,onChange:handleInputChange,className:"jsx-2db2f02de4b4d1a9 form-control"})]})}),(0,d.jsx)("div",{className:"jsx-2db2f02de4b4d1a9 col-lg-6 col-md-12",children:(0,d.jsxs)("div",{className:"jsx-2db2f02de4b4d1a9 form-group",children:[(0,d.jsx)("label",{className:"jsx-2db2f02de4b4d1a9 font-sm color-text-mutted mb-10",children:"Zip Code"}),(0,d.jsx)("input",{type:"text",name:"zip_code",value:s.zip_code,onChange:handleInputChange,className:"jsx-2db2f02de4b4d1a9 form-control"})]})})]}),(0,d.jsx)("div",{className:"jsx-2db2f02de4b4d1a9 box-button mt-15",children:(0,d.jsx)("button",{type:"submit",disabled:p,className:"jsx-2db2f02de4b4d1a9 btn btn-apply-big font-md font-bold",children:p?"Saving...":"Save All Changes"})})]})})})]})})})]})})]})}},9471:function(e,a){"use strict";a.Z="http://35.154.204.105/api/"},7967:function(){}},function(e){e.O(0,[1653,9865,5379,8504,9774,2888,179],function(){return e(e.s=6554)}),_N_E=e.O()}]);